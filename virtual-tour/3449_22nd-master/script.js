if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_lockedOrientation']=undefined;this['_device']=undefined;this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT']='portrait';TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']='landscape';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}this['player']['delete']();this['player']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var s=function(v){if(v['name']=='begin'){var w=v['data']['source']['get']('camera');if(w&&w['get']('initialSequence')&&w['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(v['sourceClassName']=='MediaAudio')return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',s,u,!![]);u['unbindOnObjectsOf']('PanoramaPlayListItem','begin',s,u,!![]);u['unbind']('stateChange',s,u,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_currentScriptUrl']=this['_getScriptUrl']();var t=this['_getOrientation']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bind']('preloadMediaShow',s,this,!![]);u['bind']('stateChange',s,this,!![]);u['bindOnObjectsOf']('PanoramaPlayListItem','begin',s,this,!![]);u['bindOnObject']('rootPlayer','start',function(x){var y=x['data']['source'];var z=window['navigator']['language']||window['navigator']['userLanguage']||'en';var A=y['get']('data')['locales']||{};var B=y['get']('data')['defaultLocale']||z;var C=this['locManager']=new TDV['Tour']['LocaleManager'](y,A,B,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));y['get']('data')['localeManager']=C;var D=function(){var J=y['get']('data');if(!('updateText'in J)){J['updateText']=function(N){var O=N[0x0]['split']('.');if(O['length']==0x2){var P=C['trans']['apply'](C,N);var Q=N[0x1]||y;if(typeof Q=='string'){var R=Q['split']('.');Q=y[R['shift']()];for(var S=0x0;S<R['length']-0x1;++S){if(Q!=undefined)Q='get'in Q?Q['get'](R[S]):Q[R[S]];}if(Q!=undefined){var T=R[R['length']-0x1];if(Array['isArray'](Q)){for(var U=0x0;U<Q['length'];++U){this['setValue'](Q[U],T,P);}}else this['setValue'](Q,T,P);}}else{Q=Q[O[0x0]];this['setValue'](Q,O[0x1],P);}}}['bind'](y);}var K=J['translateObjs'];var L=J['updateText'];var M=function(){for(var V in K){L(K[V]);}};M();M();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],D['bind'](this));var E=this['_getParams'](location['search']['substr'](0x1));var F=E['language'];if(!F||!this['locManager']['hasLocale'](E['language']))F=z;this['setLocale'](F);this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![])||this['_setMediaFromURL'](E,!![]);if(this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']&&typeof this['_devicesUrl'][TDV['Tour']['DEVICE_MOBILE']]=='object'){var G=function(){if(!y['isCardboardViewMode']()&&this['_getOrientation']()!=t){this['reload']();}};var H=y['getByClassName']('PanoramaPlayer');for(var I=0x0;I<H['length'];++I){H[I]['bind']('viewModeChange',G,this);}y['bind']('orientationChange',G,this);}this['_onHashChange']=function(){this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![]);}['bind'](this);this['_onKeyUp']=function(W){if(W['key']=='u'){this['updateDeepLink']();this['copyToClipboard'](location['href']);}}['bind'](this);window['addEventListener']('hashchange',this['_onHashChange']);document['addEventListener']('keyup',this['_onKeyUp']);y['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,![]);window['addEventListener']('message',function(X){var Y=X['data'];if(Y=='pauseTour')Y='pause';else if(Y=='resumeTour')Y='resume';else return;this[Y]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var Z=player['getByClassName']('PlayList');for(var a0=0x0,a1=Z['length'];a0<a1;a0++){var a2=Z[a0];var a3=a2['get']('selectedIndex');if(a3!=-0x1){var a4=a2['get']('items')[a3];var a5=a4['get']('player');if(a5&&a5['pause']){this['_playersPlayingTmp']['push'](a5);a5['pause']();}}}this['player']['getById']('pauseGlobalAudios')();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a6=this['playersPlayingTmp']['pop']();a6['play']();}this['player']['getById']('resumeGlobalAudios')();};TDV['Tour']['prototype']['reload']=function(){this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a7){var a8=this['_getRootPlayer']();if(a8!==undefined){return a8['setMainMediaByIndex'](a7);}};TDV['Tour']['prototype']['setMediaByName']=function(a9){var aa=this['_getRootPlayer']();if(aa!==undefined){return aa['setMainMediaByName'](a9);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(ab,ac,ad){var ae=this['_getRootPlayer']();if(ae!==undefined){ab['bind']('begin',function(af){ab['unbind']('begin',arguments['callee'],this);var ag=ae['getPanoramaOverlayByName'](ab['get']('media'),ac);if(ag)ae['triggerOverlay'](ag,ad);},ae);}};TDV['Tour']['prototype']['updateDeepLink']=function(){var ah=this['_getRootPlayer']();if(ah!==undefined){ah['updateDeepLink']();}};TDV['Tour']['prototype']['setLocale']=function(ai){var aj=this['_getRootPlayer']();if(aj!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](ai);}};TDV['Tour']['prototype']['isMobile']=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i['test'](navigator['userAgent']||navigator['vendor']||window['opera']);};TDV['Tour']['prototype']['copyToClipboard']=function(ak){if(navigator['clipboard']){navigator['clipboard']['writeText'](ak);}else{var al=document['createElement']('textarea');al['value']=ak;al['style']['position']='fixed';document['body']['appendChild'](al);al['focus']();al['select']();try{document['execCommand']('copy');}catch(am){}document['body']['removeChild'](al);}};TDV['Tour']['prototype']['_getOrientation']=function(){var an=this['_getRootPlayer']();if(an){return an['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return window['innerWidth']>window['innerHeight']?TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']:TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT'];}};TDV['Tour']['prototype']['_getParams']=function(ao){var ap={};ao['split']('&')['forEach'](function(aq){var ar=aq['split']('=')[0x0],as=decodeURIComponent(aq['split']('=')[0x1]);ap[ar['toLowerCase']()]=as;});return ap;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_getScriptUrl']=function(){this['_device']=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']){this['_device']=TDV['Tour']['DEVICE_MOBILE'];}var at=this['_devicesUrl'][this['_device']];if(typeof at=='object'){var au=this['_getOrientation']();if(au in at){at=at[au];}}return at;};TDV['Tour']['prototype']['_setMediaFromURL']=function(av,aw){var ax=undefined;if('media'in av){var ay=av['media'];var az=Number(ay);ax=isNaN(az)?this['setMediaByName'](ay):this['setMediaByIndex'](az-0x1);}else if('media-index'in av){ax=this['setMediaByIndex'](parseInt(av['media-index'])-0x1);}else if('media-name'in av){ax=this['setMediaByName'](av['media-name']);}if(ax==undefined&&aw){ax=this['setMediaByIndex'](0x0);}if(ax!=undefined&&'trigger-overlay-name'in av){this['triggerOverlayByName'](ax,av['trigger-overlay-name'],'trigger-overlay-event'in av?av['trigger-overlay-event']:'click');}return ax!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var aA=function(){var aB=undefined;var aC=function(){var aF=this['_getRootPlayer']();aB=aF['get']('lockedOrientation');aF['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var aD=function(){aC();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aD);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aD);this['reload']();}else{aC();}var aE=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',aB);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],aE);var aG=this['_getScriptUrl']();if(this['_currentScriptUrl']!=aG)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],aE);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],aA);}};TDV['Tour']['LocaleManager']=function(aH,aI,aJ,aK){TDV['EventDispatcher']['call'](this);this['rootPlayer']=aH;this['locales']={};this['defaultLocale']=aJ;this['queryParam']=aK;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var aL in aI){this['registerLocale'](aL,aI[aL]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(aM,aN){var aO=[aM,aM['split']('-')[0x0]];for(var aP=0x0;aP<aO['length'];++aP){aM=aO[aP];if(!(aM in this['locales'])){this['locales'][aM]=aN;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(aQ){delete this['locales'][aQ];if(aQ==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(aR){return aR in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(aS){var aT=undefined;var aU=aS['split']('-')[0x0];var aV=[aS,aU];for(var aW=0x0;aW<aV['length'];++aW){var aY=aV[aW];if(aY in this['locales']){aT=aY;break;}}if(aT===undefined){for(var aY in this['locales']){if(aY['indexOf'](aU)==0x0){aT=aY;break;}}}if(aT===undefined){aT=this['defaultLocale'];}var aZ=this['locales'][aT];if(aZ!==undefined&&this['currentLocaleID']!=aT){this['currentLocaleID']=aT;var b0=this;if(typeof aZ=='string'){var b1=new XMLHttpRequest();b1['onreadystatechange']=function(){if(b1['readyState']==0x4){if(b1['status']==0xc8){b0['locales'][aT]=b0['currentLocaleMap']=b0['_parsePropertiesContent'](b1['responseText']);b0['dispatchEvent'](b0['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw aZ+'\x20can\x27t\x20be\x20loaded';}}};var b2=aZ;if(this['queryParam'])b2+=(b2['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];b1['open']('GET',b2);b1['send']();}else{this['currentLocaleMap']=aZ;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(b3){var b4=this['currentLocaleMap'][b3];if(arguments['length']>0x2){var b5=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var b6=arguments;function b7(b8){return/^\d+$/['test'](b8);}b4=b4['replace'](/\{\{([\w\.]+)\}\}/g,function(b9,ba){if(b7(ba))ba=b6[parseInt(ba)+0x1];else if(b5!==undefined)ba=b5[ba];if(typeof ba=='string')ba=this['currentLocaleMap'][ba]||ba;else if(typeof ba=='function')ba=ba['call'](this['rootPlayer']);return ba!==undefined?ba:'';}['bind'](this));}return b4;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(bb){bb=bb['replace'](/(^|\n)#[^\n]*/g,'');var bc={};var bd=bb['split']('\x0a');for(var be=0x0,bf=bd['length'];be<bf;++be){var bg=bd[be]['trim']();if(bg['length']==0x0){continue;}var bh=bg['indexOf']('=');if(bh==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+be);continue;}var bi=bg['substr'](0x0,bh)['trim']();var bj=bg['substr'](bh+0x1)['trim']();var bk;while((bk=bj['lastIndexOf']('\x5c'))!=-0x1&&bk==bj['length']-0x1&&++be<bf){bj=bj['substr'](0x0,bj['length']-0x2);bg=bd[be]['trim']();if(bg['length']==0x0)break;bj+='\x0a'+bg;}bc[bi]=bj;}return bc;};TDV['Tour']['HistoryData']=function(bl){this['playList']=bl;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(bm){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==bm){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],bm);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(bn,bo){for(var bp in bn){var bq=bn[bp];if(typeof bq=='object'&&bq!==null)this['assignObjRecursively'](bn[bp],bo[bp]||(bo[bp]={}));else bo[bp]=bq;}return bo;};TDV['Tour']['Script']['autotriggerAtStart']=function(br,bs,bt){var bu=function(bv){bs();if(bt==!![])br['unbind']('change',bu,this);};br['bind']('change',bu,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(bw,bx,by){var bz=function(bG){bA['unbind']('stop',bz,this);if(by==bC['get']('backgroundColor')&&bF==bC['get']('backgroundColorRatios')){bC['set']('backgroundColor',bD);bC['set']('backgroundColorRatios',bE);}};var bA=bw['get']('items')[bx];var bB=bA['get']('player');var bC=bB['get']('viewerArea');var bD=bC['get']('backgroundColor');var bE=bC['get']('backgroundColorRatios');var bF=[0x0];if(by!=bD||bF!=bE){bC['set']('backgroundColor',by);bC['set']('backgroundColorRatios',bF);bA['bind']('stop',bz,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(bH,bI){var bJ=bH['get']('selectedIndex');if(bJ>=0x0&&bI>=0x0&&bJ!=bI){var bK=bH['get']('items')[bJ];var bL=bH['get']('items')[bI];var bM=bK['get']('player');var bN=bL['get']('player');if((bM['get']('class')=='PanoramaPlayer'||bM['get']('class')=='Video360Player')&&(bN['get']('class')=='PanoramaPlayer'||bN['get']('class')=='Video360Player')){var bO=this['cloneCamera'](bL['get']('camera'));this['setCameraSameSpotAsMedia'](bO,bK['get']('media'));this['startPanoramaWithCamera'](bL['get']('media'),bO);}}};TDV['Tour']['Script']['cloneCamera']=function(bP){var bQ=this['rootPlayer']['createInstance'](bP['get']('class'));bQ['set']('id',bP['get']('id')+'_copy');bQ['set']('initialSequence',bP['get']('initialSequence'));bQ['set']('idleSequence',bP['get']('idleSequence'));return bQ;};TDV['Tour']['Script']['copyObjRecursively']=function(bR){var bS={};for(var bT in bR){var bU=bR[bT];if(typeof bU=='object'&&bU!==null)bS[bT]=this['copyObjRecursively'](bR[bT]);else bS[bT]=bU;}return bS;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(bV,bW,bX,bY){var bZ=undefined;var c0=function(c3){if(c3['data']['previousSelectedIndex']==bW){if(bY)bY['call'](this);if(bX&&bZ)bZ['unbind']('end',bX,this);bV['unbind']('change',c0,this);}};if(bX){var c1=bV['get']('items')[bW];if(c1['get']('class')=='PanoramaPlayListItem'){var c2=c1['get']('camera');if(c2!=undefined)bZ=c2['get']('initialSequence');if(bZ==undefined)bZ=c2['get']('idleSequence');}else{bZ=c1['get']('media');}if(bZ){bZ['bind']('end',bX,this);}}bV['bind']('change',c0,this);};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(c4){var c5=c4['get']('buttonPlayPause');if(typeof c5!=='undefined'&&c4['get']('state')=='playing'){if(!Array['isArray'](c5))c5=[c5];for(var c6=0x0;c6<c5['length'];++c6)c5[c6]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(c7){var c8=this['getActivePlayerWithViewer'](c7);if(c8==undefined){return undefined;}return this['getMediaFromPlayer'](c8);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(c9){var ca=this['getCurrentPlayers']();var cb=ca['length'];while(cb-->0x0){var cc=ca[cb];if(cc['get']('viewerArea')==c9){var cd=cc['get']('class');if(cd=='PanoramaPlayer'&&(cc['get']('panorama')!=undefined||cc['get']('video')!=undefined))return cc;else if((cd=='VideoPlayer'||cd=='Video360Player')&&cc['get']('video')!=undefined)return cc;else if(cd=='PhotoAlbumPlayer'&&cc['get']('photoAlbum')!=undefined)return cc;else if(cd=='MapPlayer'&&cc['get']('map')!=undefined)return cc;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(ce){var cf=undefined;var cg=undefined;switch(ce['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':cf='PanoramaPlayer';cg='panorama';break;case'Video360':cf='PanoramaPlayer';cg='video';break;case'PhotoAlbum':cf='PhotoAlbumPlayer';cg='photoAlbum';break;case'Map':cf='MapPlayer';cg='map';break;case'Video':cf='VideoPlayer';cg='video';break;};if(cf!=undefined){var ch=this['getByClassName'](cf);for(var ci=0x0;ci<ch['length'];++ci){var cj=ch[ci];if(cj['get'](cg)==ce){return cj;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var ck=this['getByClassName']('PanoramaPlayer');ck=ck['concat'](this['getByClassName']('VideoPlayer'));ck=ck['concat'](this['getByClassName']('Video360Player'));ck=ck['concat'](this['getByClassName']('PhotoAlbumPlayer'));ck=ck['concat'](this['getByClassName']('MapPlayer'));return ck;};TDV['Tour']['Script']['getGlobalAudio']=function(cl){var cm=window['currentGlobalAudios'];if(cm!=undefined&&cl['get']('id')in cm){cl=cm[cl['get']('id')]['audio'];}return cl;};TDV['Tour']['Script']['getMediaByName']=function(cn){var co=this['getByClassName']('Media');for(var cp=0x0,cq=co['length'];cp<cq;++cp){var cr=co[cp];var cs=cr['get']('data');if(cs&&cs['label']==cn){return cr;}}return undefined;};TDV['Tour']['Script']['getComponentByName']=function(ct){var cu=this['getByClassName']('UIComponent');for(var cv=0x0,cw=cu['length'];cv<cw;++cv){var cx=cu[cv];var cy=cx['get']('data');if(cy!=undefined&&cy['name']==ct){return cx;}}return undefined;};TDV['Tour']['Script']['getMediaFromPlayer']=function(cz){switch(cz['get']('class')){case'PanoramaPlayer':return cz['get']('panorama')||cz['get']('video');case'VideoPlayer':case'Video360Player':return cz['get']('video');case'PhotoAlbumPlayer':return cz['get']('photoAlbum');case'MapPlayer':return cz['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(cA){switch(cA['get']('class')){case'Video360':var cB=cA['get']('video');if(cB instanceof Array){var cC=0x0;for(var cD=0x0;cD<cB['length'];cD++){var cE=cB[cD];if(cE['get']('width')>cC)cC=cE['get']('width');}return cC;}else{return cE['get']('width');}default:return cA['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(cF){switch(cF['get']('class')){case'Video360':var cG=cF['get']('video');if(cG instanceof Array){var cH=0x0;for(var cI=0x0;cI<cG['length'];cI++){var cJ=cG[cI];if(cJ['get']('height')>cH)cH=cJ['get']('height');}return cH;}else{return cJ['get']('height');}default:return cF['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(cK){switch(cK['get']('class')){case'Panorama':var cL=cK['get']('overlays')['concat']()||[];var cM=cK['get']('frames');for(var cN=0x0;cN<cM['length'];++cN){cL=cL['concat'](cM[cN]['get']('overlays')||[]);}return cL;case'Video360':case'Map':return cK['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(cO,cP){var cQ=this['getOverlays'](cO);for(var cR=0x0,cS=cQ['length'];cR<cS;++cR){var cT=cQ[cR];var cU=cT['get']('data');if(cU!=undefined&&cU['label']==cP){return cT;}}return undefined;};TDV['Tour']['Script']['getPixels']=function(cV){var cW=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](cV);if(cW==undefined){return 0x0;}var cX=parseFloat(cW[0x1]);var cY=cW[0x4];var cZ=this['rootPlayer']['get']('actualWidth')/0x64;var d0=this['rootPlayer']['get']('actualHeight')/0x64;switch(cY){case'vw':return cX*cZ;case'vh':return cX*d0;case'vmin':return cX*Math['min'](cZ,d0);case'vmax':return cX*Math['max'](cZ,d0);default:return cX;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(d1,d2){var d3=[];var d4=this['getByClassName']('PlayList');for(var d5=0x0,d6=d4['length'];d5<d6;++d5){var d7=d4[d5];if(d2&&d7['get']('selectedIndex')==-0x1)continue;if(this['getPlayListItemByMedia'](d7,d1)!=undefined)d3['push'](d7);}return d3;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(d8){var d9=this['getByClassName']('PlayList');var da=function(dc){var dd=dc['get']('items');for(var de=dd['length']-0x1;de>=0x0;--de){var df=dd[de];var dg=df['get']('player');if(dg!==undefined&&dg['get']('viewerArea')==d8)return!![];}return![];};for(var db=d9['length']-0x1;db>=0x0;--db){if(!da(d9[db]))d9['splice'](db,0x1);}return d9;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(dh,di){var dj=this['getPlayListsWithMedia'](dh,di);return dj['length']>0x0?dj[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(dk,dl){var dm=dk['get']('items');for(var dn=0x0,dp=dm['length'];dn<dp;++dn){var dq=dm[dn];if(dq['get']('media')==dl)return dq;}return undefined;};TDV['Tour']['Script']['getPlayListItems']=function(dr,ds){var dt=function(){switch(dr['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(dt!=undefined){var du=this['getByClassName'](dt);for(var dv=du['length']-0x1;dv>=0x0;--dv){var dw=du[dv];if(dw['get']('media')!=dr||ds!=undefined&&dw['get']('player')!=ds){du['splice'](dv,0x1);}}return du;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(dx){var dy=this['get']('data')['history'][dx['get']('id')];if(dy!=undefined){dy['back']();}};TDV['Tour']['Script']['historyGoForward']=function(dz){var dA=this['get']('data')['history'][dz['get']('id')];if(dA!=undefined){dA['forward']();}};TDV['Tour']['Script']['init']=function(){var dB=this['get']('data')['history'];var dC=function(dH){var dI=dH['source'];var dJ=dI['get']('selectedIndex');if(dJ<0x0)return;var dK=dI['get']('id');if(!dB['hasOwnProperty'](dK))dB[dK]=new TDV['Tour']['HistoryData'](dI);dB[dK]['add'](dJ);};var dD=this['getByClassName']('PlayList');for(var dE=0x0,dF=dD['length'];dE<dF;++dE){var dG=dD[dE];dG['bind']('change',dC,this);}};TDV['Tour']['Script']['initGA']=function(){var dL=function(eb,ec,ed){ga('send','event',eb,ec,ed);};var dN=this['getByClassName']('Panorama');dN=dN['concat'](this['getByClassName']('Video360'));dN=dN['concat'](this['getByClassName']('Map'));for(var dQ=0x0,dT=dN['length'];dQ<dT;++dQ){var dU=dN[dQ];var dW=dU['get']('data');var dX=dW?dW['label']:undefined;var dY=this['getOverlays'](dU);for(var dZ=0x0,e0=dY['length'];dZ<e0;++dZ){var e1=dY[dZ];var e2=e1['get']('data')!=undefined?dX+'\x20-\x20'+e1['get']('data')['label']:dX;switch(e1['get']('class')){case'HotspotPanoramaOverlay':case'HotspotMapOverlay':var e3=e1['get']('areas');for(var e4=0x0;e4<e3['length'];++e4){e3[e4]['bind']('click',dL['bind'](this,'Hotspot','click',e2),this);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':e1['bind']('click',dL['bind'](this,'Cap','click',e2),this);break;}}}var e5=this['getByClassName']('Button');e5=e5['concat'](this['getByClassName']('IconButton'));for(var dQ=0x0,dT=e5['length'];dQ<dT;++dQ){var e6=e5[dQ];var e7=e6['get']('data')['name'];e6['bind']('click',dL['bind'](this,'Skin','click',e7),this);}var e8=this['getByClassName']('PlayListItem');var e9={};for(var dQ=0x0,dT=e8['length'];dQ<dT;++dQ){var ea=e8[dQ];var dN=ea['get']('media');if(!(dN['get']('id')in e9)){var dW=dN['get']('data');ea['bind']('begin',dL['bind'](this,'Media','play',dW?dW['label']:undefined),this);e9[dN['get']('id')]=ea;}}};TDV['Tour']['Script']['initQuiz']=function(ee,ef){var eg={'question':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.2},'window':{'width':'60%','height':'60%','backgroundColor':'#ffffff','backgroundOpacity':0.9,'borderRadius':0x5,'horizontalAlign':'center','minWidth':0x1f4,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'shadowBlurRadius':0x4,'shadow':!![],'shadowColor':'#000000','shadowOpacity':0.3,'shadowHorizontalLength':0x0,'shadowVerticalLength':0x0,'shadowSpread':0x4,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'600','paddingLeft':0x32,'paddingRight':0x32,'paddingBottom':0x28,'paddingTop':0x19,'textAlign':'center'},'buttonsContainer':{'horizontalAlign':'right','verticalAlign':'bottom','button':{'backgroundColor':'#000000','backgroundOpacity':0.7,'borderRadius':0x3,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xa,'paddingBottom':0xa,'verticalAlign':'middle'}},'bodyContainer':{'width':'100%','height':'100%','gap':0x23,'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e,'paddingBottom':0x1e},'mediaContainer':{'width':'70%','height':'100%','buttonNext':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=','width':0x19,'height':0x25},'buttonPrevious':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC','width':0x19,'height':0x25},'viewerArea':{'playbackBarBackgroundColor':'#000000','playbackBarBackgroundOpacity':0.5,'playbackBarBorderRadius':0x0,'playbackBarBorderSize':0x0,'playbackBarBottom':0x5,'playbackBarHeight':0x6,'playbackBarLeft':0x0,'playbackBarRight':0x0,'playbackBarProgressBackgroundColor':'#3399ff','playbackBarProgressOpacity':0.5,'playbackBarHeadBackgroundColor':'#cccccc','playbackBarHeadBorderColor':'#ffffff','playbackBarHeadBorderRadius':0x7,'playbackBarHeadBorderSize':0x3,'playbackBarHeadOpacity':0x1,'playbackBarHeadWidth':0xe,'playbackBarHeadHeight':0xe,'playbackBarHeadShadow':!![],'playbackBarHeadShadowBlurRadius':0x2,'playbackBarHeadShadowColor':'#000000','playbackBarHeadShadowHorizontalLength':0x0,'playbackBarHeadShadowOpacity':0.3,'playbackBarHeadShadowSpread':0x2,'playbackBarHeadShadowVerticalLength':0x0,'backgroundColor':'#e6e6e6','backgroundOpacity':0x1}},'optionsContainer':{'gap':0xa,'width':'30%','height':'100%','overflow':'scroll','contentOpaque':!![]},'option':{'gap':0xa,'text':{'fontColor':'#404040','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left','verticalAlign':'middle','selected':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left'}},'label':{'borderRadius':0x13,'backgroundColor':'#000000','backgroundOpacity':0.2,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26,'correct':{'borderRadius':0x13,'backgroundColor':'#39b54a','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26},'incorrect':{'borderRadius':0x13,'backgroundColor':'#ed1c24','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26}}},'closeButton':{'backgroundColor':'#009FE3','height':0x2d,'iconColor':'#FFFFFF','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d}}},'score':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','minWidth':0x1f4,'maxWidth':0x5dc,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'content':{'width':'100%','horizontalAlign':'center'},'closeButton':{'backgroundColor':'#009fe3','height':0x2d,'iconColor':'#ffffff','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x32,'fontWeight':'800','paddingBottom':0xf,'paddingTop':0x32,'textAlign':'center'},'description':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x10,'fontWeight':'400','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'textAlign':'center'},'statsContainer':{'gap':0x14,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'verticalAlign':'middle','overflow':'scroll','contentOpaque':!![]},'stats':{'borderColor':'#009fe3','borderSize':0x1,'borderRadius':0x4b,'gap':0x0,'height':0x96,'horizontalAlign':'center','layout':'vertical','verticalAlign':'middle','minWidth':0x96,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'400','paddingTop':0xa,'paddingLeft':0x5,'paddingRight':0x5},'mainValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'700'},'secondaryValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'700'},'label':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0xf,'fontWeight':'400'}},'calification':{'fontColor':'#009fe3','fontFamily':'Arial','fontSize':0x1e,'fontWeight':'700','textAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xa,'paddingTop':0xf,'verticalAlign':'middle','width':'100%'},'timeContainer':{'gap':0x5,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xa,'verticalAlign':'middle','width':'100%'},'buttonsContainer':{'gap':0x8,'paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0x32,'paddingTop':0x23,'horizontalAlign':'center','verticalAlign':'middle','width':'100%','button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'}}}},'timeout':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','gap':0xf,'paddingBottom':0x37,'paddingLeft':0x50,'paddingRight':0x50,'paddingTop':0x2d,'icon':{'height':0x48,'url':'data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgASAA+AwERAAIRAQMRAf/EAHQAAAICAwEBAAAAAAAAAAAAAAUGAAQCAwcBCQEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAgMHAwMBCQAAAAAAAQIDBAARBSExQRITUWFxkbEiBoGhFFJiIzLB0UJygqJDYyQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APv5QSglBydzJZHqOf8AvkD3HQOqA37AaAjhZ85zJxG3Jjzja1EKQtxSgfaeBNB0eglBKANl8w1jGwkAOylj+NnsH6ld1BliMqjKMrVydN9mweQNtb2IPfagkzOY6EShb3VdTu017j9TsPOgQspNiTHELiQxFCebnItdZPEgCgu4fKwcekfkQuo8FEplJCSoAi1he3rQO8PKQZ+kd8Fe5aV7VeR3+lAMzGeGOdTHZbDz+inea4SlJ2GnE0FtOaiLxzmRTdSWQOqyP6kqJACT4k70CtmMLkPzJEhtKpTTpU51Li6Rvym54DagAMy5Mdt1pl5TSHwA6lJte1AQx+Em5ABxCQywf+degP8AlG5oGRr4lEAHWlPLVxKAlI+4VQYP/EmSD+NLWlXAOgKHmLelArTMfNxjiesko1u0+gnlJHYrTWg0uOyp8hBcUqRIc5W0Xtc8AKAyxgskmHNWptSFrSltuMCLrPUSSTrawtQHfk88x4yIjSrOSr9Qjg2N/M0ADAYkT3i++LxY5F0/rVvy+HbQPU5yRHhuKgsB15AAaatpa4GgFthwoKj7M/IYxpIc/AmL5VOBJI23FxqL70Hs5zJRIcZMNsTZCeRD61AkmwsVWuNzQEHWW5TBZkthSXUjqNnWx7j3dtBzDJwHMZMU1clH9cd3YlPD6igcUZhxeAdnJsZLIDTncskJ5v8AcDQLPyN0u5V8HZlKG0+HKCfuTQO+GYEbGRE2sVoDiz3r92vhe1B5jse5DclurmKlJlK5kg8N+8660HuQy8THKQh7nW64LpabAKrdupAoFub8pdc/jx7Jb5tA64AVa9iRcetBcw+PmtyBkslIUhxwFCGVq9yub9V9u4UGz5VHDkJqRb3sOWv+1eh+4FArQ3iMXmI99FJZcA7CHUg+ooJnkFGWmA8VJUP9SQaB9jtonYdhrnKUPxkIKk7j2gH70GzGx2IcYQ2ZAfMckOG4JCiSbEDbwoBmShz28i1lMe0iQtLfTWys2tuLi5Hb20GWHxKo6nps1pH5r6ytKRYhsHU2toCSeFBZyUGFknWGHpPTfYJWllC0hZSbX9pueG9BW+TrCMWtJ3dcQlP0PN/ZQJURJMLLK4BlsE95eRb0oDvyuIUvMTUj2OJ6Th7FDUeY9KC38XyCVsqx7irONErY70nUj6HWgJmNDwjc7IoS64XLKcRcHdWydBxPGguNZGM5BbnuK/HYcF/5NCNbW86DVkMozAitS+QyG3lJCCg6WUL3v4CgyRAiuy2sryrTIU2OUE2Aum2o7bG1An/JsgmTJTFaVzNRb86hsVnfy2oNkeEtr41PfKTzyihYH/WhabH1NA6zIrU2O7GeF0OC1+IPAjwoOYSosvEywlRLbrZ5mXk7KHAigbcf8ljPoDOQAZdtYu2u2rx7PSgPOtQslH6JKH45sQG1aC21ik0HqnYMFlDTjrbDTSQlCFqGw20OpoFTK/JeolUfHXSFaLkkWNv2jh4mgD4fEuZJ8FQKYrZ/nc7f2jvNB0zpt9Po8g6XLydO2nLa1reFBnQVZkKNOaLMlsLT/hVspJ7QeFAlTPi0tolUNYkt8EKISseeh86AKvFZJB5TAfJ/a2pQ8wDQZtYjJunlTBeB7VpKB5qtQMEH4qolLk90BO/QbNye4q/uoHJplphtLTKA22gWShOgFBsoP//Z','width':0x3e},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'800','textAlign':'center','paddingBottom':0x14},'button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'},'buttonsContainer':{'horizontalAlign':'center','width':'100%','gap':0xa}}}};ee['theme']='theme'in ee?this['mixObject'](eg,ee['theme']):eg;if(ee['player']['get']('isMobile')){var eh=this['mixObject'](ee['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}}});ee['theme']=eh;}var ei=this['get']('data');var ej=document['getElementById']('metaViewport');var ek=ej?/initial-scale=(\d+(\.\d+)?)/['exec'](ej['getAttribute']('content')):undefined;var el=ek?ek[0x1]:0x1;ei['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/el,'maxHeight':0x258/el,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'}}}};var em=new TDV['Quiz'](ee);em['setMaxListeners'](0x32);em['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((em['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+em['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(em['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+em['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)em['finish']();}['bind'](this));if(ef===!![])em['start']();ei['quiz']=em;};TDV['Tour']['Script']['isCardboardViewMode']=function(){var en=this['getByClassName']('PanoramaPlayer');return en['length']>0x0&&en[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['keepCompVisible']=function(eo,ep){var eq='keepVisibility_'+eo['get']('id');var er=this['getKey'](eq);if(er==undefined&&ep){this['registerKey'](eq,ep);}else if(er!=undefined&&!ep){this['unregisterKey'](eq);}};TDV['Tour']['Script']['_initItemWithComps']=function(es,et,eu,ev,ew,ex,ey,ez){var eA=es['get']('items')[et];var eB=eA['get']('media');var eC=eB['get']('loop')==undefined||eB['get']('loop');var eD=ez>0x0;var eE=this['rootPlayer'];var eF=function(eN){var eO=ex?ex['get']('class'):undefined;var eP=undefined;switch(eO){case'FadeInEffect':case'FadeOutEffect':eP=eE['createInstance'](eN?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':eP=eE['createInstance'](eN?'SlideInEffect':'SlideOutEffect');break;}if(eP){eP['set']('duration',ex['get']('duration'));eP['set']('easing',ex['get']('easing'));if(eO['indexOf']('Slide')!=-0x1)eP['set'](eN?'from':'to',ex['get'](ex['get']('class')=='SlideInEffect'?'from':'to'));}return eP;};var eG=function(){for(var eQ=0x0,eR=eu['length'];eQ<eR;++eQ){var eS=eu[eQ];if(ez>0x0){this['setComponentVisibility'](eS,!ew,0x0,eF(!ew));}else{var eT='visibility_'+eS['get']('id');if(this['existsKey'](eT)){if(this['getKey'](eT))this['setComponentVisibility'](eS,!![],0x0,eF(!![]));else this['setComponentVisibility'](eS,![],0x0,eF(![]));this['unregisterKey'](eT);}}}eA['unbind']('end',eG,this);if(!eC)eB['unbind']('end',eG,this);};var eH=function(){eA['unbind']('stop',eH,this,!![]);eA['unbind']('stop',eH,this);eA['unbind']('begin',eH,this,!![]);eA['unbind']('begin',eH,this);for(var eU=0x0,eV=eu['length'];eU<eV;++eU){this['keepCompVisible'](eu[eU],![]);}};var eI=function(eW,eX,eY){var eZ=function(){var f0=function(f4,f5,f6){eE['setComponentVisibility'](f4,f5,eX,f6,f5?'showEffect':'hideEffect',![]);if(eY>0x0){var f7=eX+eY+(f6!=undefined?f6['get']('duration'):0x0);eE['setComponentVisibility'](f4,!f5,f7,eF(!f5),f5?'hideEffect':'showEffect',!![]);}};for(var f1=0x0,f2=eu['length'];f1<f2;++f1){var f3=eu[f1];if(ew=='toggle'){if(!f3['get']('visible'))f0(f3,!![],eF(!![]));else f0(f3,![],eF(![]));}else{f0(f3,ew,eF(ew));}}eA['unbind'](eW,eZ,this);if(eW=='end'&&!eC)eB['unbind'](eW,eZ,this);};eA['bind'](eW,eZ,this);if(eW=='end'&&!eC)eB['bind'](eW,eZ,this);};if(ev=='begin'){for(var eJ=0x0,eK=eu['length'];eJ<eK;++eJ){var eL=eu[eJ];this['keepCompVisible'](eL,!![]);if(eD){var eM='visibility_'+eL['get']('id');this['registerKey'](eM,eL['get']('visible'));}}eA['bind']('stop',eH,this,!![]);eA['bind']('stop',eH,this);eA['bind']('begin',eH,this,!![]);eA['bind']('begin',eH,this);if(eD){eA['bind']('end',eG,this);if(!eC)eB['bind']('end',eG,this);}}else if(ev=='end'&&ez>0x0){eI('begin',ez,0x0);ez=0x0;}if(ev!=undefined)eI(ev,ey,ez);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(f8,f9){var fa=f8['get']('selectedIndex');var fb=f8['get']('items')['length'];var fc=(fa+f9)%fb;while(fc<0x0){fc=fb+fc;}if(fa!=fc){f8['set']('selectedIndex',fc);}};TDV['Tour']['Script']['mixObject']=function(fd,fe){return this['assignObjRecursively'](fe,this['copyObjRecursively'](fd));};TDV['Tour']['Script']['openLink']=function(ff,fg){if(!ff||ff==location['href']){return;}var fh=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(fg=='_blank'&&fh){if(ff['startsWith']('/')){var fi=window['location']['href']['split']('/');fi['pop']();ff=fi['join']('/')+ff;}var fj=ff['split']('.')['pop']()['toLowerCase']();if(fj!='pdf'||ff['startsWith']('file://')){var fk=window['require']('electron')['shell'];fk['openExternal'](ff);}else{window['open'](ff,fg);}}else if(fh&&(fg=='_top'||fg=='_self')){window['location']=ff;}else{var fl=window['open'](ff,fg);fl['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(fm){var fn=this['getCurrentPlayers']();var fo=fn['length'];while(fo-->0x0){var fp=fn[fo];if(fp['get']('state')=='playing'||fp['get']('viewerArea')&&fp['get']('viewerArea')['get']('id')==this['MainViewer']){var fq=this['getMediaFromPlayer'](fp);if(fm&&fq['get']('class')!='Video360'&&'pauseCamera'in fp){fp['pauseCamera']();}else{fp['pause']();}}else{fn['splice'](fo,0x1);}}return fn;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(fr,fs,ft){var fu=this;var fv=fr['get']('items')[fs];var fw=fv['get']('media');var fx=fv['get']('player');var fy=fw['get']('id');var fz=function(){if(fr['get']('selectedIndex')!=fs){if(fC){fx['unbind']('stateChange',fA,fu);}fu['resumeGlobalAudios'](fy);}};var fA=function(fD){var fE=fD['data']['state'];if(fE=='stopped'){this['resumeGlobalAudios'](fy);}else if(fE=='playing'){this['pauseGlobalAudios'](fy,ft);}};var fB=fw['get']('class');var fC=fB=='Video360'||fB=='Video';if(fC){fx['bind']('stateChange',fA,this);}this['pauseGlobalAudios'](fy,ft);this['executeFunctionWhenChange'](fr,fs,fz,fz);};TDV['Tour']['Script']['pauseGlobalAudios']=function(fF,fG){if(window['pauseGlobalAudiosState']==undefined)window['pauseGlobalAudiosState']={};if(window['pauseGlobalAudiosList']==undefined)window['pauseGlobalAudiosList']=[];if(fF in window['pauseGlobalAudiosState']){return;}var fH=this['getByClassName']('Audio')['concat'](this['getByClassName']('VideoPanoramaOverlay'));if(window['currentGlobalAudios']!=undefined)fH=fH['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(fT){return fT['audio'];}));var fI=[];var fJ=Object['values'](window['pauseGlobalAudiosState']);for(var fL=0x0,fN=fJ['length'];fL<fN;++fL){var fO=fJ[fL];for(var fP=0x0;fP<fO['length'];++fP){var fR=fO[fP];if(fI['indexOf'](fR)==-0x1)fI['push'](fR);}}window['pauseGlobalAudiosState'][fF]=fI;var fS=window['currentGlobalAudios']||{};for(var fL=0x0,fN=fH['length'];fL<fN;++fL){var fR=fH[fL];if(fR['get']('state')=='playing'&&(fG==undefined||fG['indexOf'](fR)==-0x1)){if(fR['get']('id')in fS&&!fS[fR['get']('id')]['asBackground']){this['stopGlobalAudio'](fR);}else{fR['pause']();fI['push'](fR);}}}};TDV['Tour']['Script']['pauseGlobalAudio']=function(fU){var fV=window['currentGlobalAudios'];if(fV){var fW=fV[fU['get']('id')];if(fW)fU=fW['audio'];}if(fU['get']('state')=='playing')fU['pause']();};TDV['Tour']['Script']['playAudioList']=function(fX,fY){if(fX['length']==0x0)return;var fZ=-0x1;var g0;var g1=this['playGlobalAudio'];var g2=function(){if(++fZ>=fX['length']){if(!fY)return;fZ=0x0;}g0=fX[fZ];g1(g0,g2,!![]);};g2();};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(g3,g4,g5,g6,g7){var g8=function(gk){if(gk['data']['previousSelectedIndex']==g4){this['stopGlobalAudio'](g5);if(gc){var gl=gb['get']('media');var gm=gl['get']('audios');gm['splice'](gm['indexOf'](g5),0x1);gl['set']('audios',gm);}g3['unbind']('change',g8,this);if(g6)g6();}};var ga=window['currentGlobalAudios'];if(ga&&g5['get']('id')in ga){g5=ga[g5['get']('id')]['audio'];if(g5['get']('state')!='playing'){g5['play']();}return g5;}g3['bind']('change',g8,this);var gb=g3['get']('items')[g4];var gc=gb['get']('class')=='PanoramaPlayListItem';if(gc){var gd=gb['get']('media');var ga=(gd['get']('audios')||[])['slice']();if(g5['get']('class')=='MediaAudio'){var ge=this['rootPlayer']['createInstance']('PanoramaAudio');ge['set']('autoplay',![]);ge['set']('audio',g5['get']('audio'));ge['set']('loop',g5['get']('loop'));ge['set']('id',g5['get']('id'));var gf=g5['getBindings']('stateChange');for(var gg=0x0;gg<gf['length'];++gg){var gh=gf[gg];if(typeof gh=='string')gh=new Function('event',gh);ge['bind']('stateChange',gh,this);}g5=ge;}ga['push'](g5);gd['set']('audios',ga);}var gi=this['playGlobalAudio'](g5,g6);if(g7===!![]){var gj=function(){if(gi['get']('state')=='playing'){this['pauseGlobalAudios'](gi['get']('id'),[gi]);}else{this['resumeGlobalAudios'](gi['get']('id'));gi['unbind']('stateChange',gj,this);}};gi['bind']('stateChange',gj,this);}return gi;};TDV['Tour']['Script']['playGlobalAudio']=function(gn,go,gp){var gq=function(){gn['unbind']('end',gq,this);this['stopGlobalAudio'](gn);if(go)go['call'](this);};gn=this['getGlobalAudio'](gn);var gr=window['currentGlobalAudios'];if(!gr){gr=window['currentGlobalAudios']={};}gr[gn['get']('id')]={'audio':gn,'asBackground':gp||![]};if(gn['get']('state')=='playing'){return gn;}if(!gn['get']('loop')){gn['bind']('end',gq,this);}gn['play']();return gn;};TDV['Tour']['Script']['resumeGlobalAudios']=function(gs){if(window['pauseGlobalAudiosState']==undefined||!(gs in window['pauseGlobalAudiosState']))return;var gt=window['pauseGlobalAudiosState'][gs];delete window['pauseGlobalAudiosState'][gs];var gu=Object['values'](window['pauseGlobalAudiosState']);for(var gw=0x0,gy=gu['length'];gw<gy;++gw){var gz=gu[gw];for(var gA=gt['length']-0x1;gA>=0x0;--gA){var gC=gt[gA];if(gz['indexOf'](gC)!=-0x1)gt['splice'](gA,0x1);}}for(var gw=0x0,gy=gt['length'];gw<gy;++gw){var gC=gt[gw];if(gC['get']('state')=='paused')gC['play']();}};TDV['Tour']['Script']['resumePlayers']=function(gD,gE){for(var gF=0x0;gF<gD['length'];++gF){var gG=gD[gF];var gH=this['getMediaFromPlayer'](gG);if(!gH)continue;if(gE&&gH['get']('class')!='Video360'&&'pauseCamera'in gG){gG['resumeCamera']();}else{gG['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(gI){var gJ=window['currentGlobalAudios'];var gK=this;if(gJ){Object['keys'](gJ)['forEach'](function(gL){var gM=gJ[gL];if(!gI||gI&&!gM['asBackground']){gK['stopGlobalAudio'](gM['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(gN){var gO=window['currentGlobalAudios'];if(gO){var gP=gO[gN['get']('id')];if(gP){gN=gP['audio'];delete gO[gN['get']('id')];if(Object['keys'](gO)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(gN)gN['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(gQ,gR){var gS=this['getCurrentPlayerWithMedia'](gR);if(gS!=undefined){var gT=gQ['get']('initialPosition');gT['set']('yaw',gS['get']('yaw'));gT['set']('pitch',gS['get']('pitch'));gT['set']('hfov',gS['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(gU,gV,gW,gX,gY,gZ){var h0=this['getKey']('keepVisibility_'+gU['get']('id'));if(h0)return;this['unregisterKey']('visibility_'+gU['get']('id'));var h1=function(){if(gX&&gY){gU['set'](gY,gX);}gU['set']('visible',gV);if(gU['get']('class')=='ViewerArea'){try{if(gV)gU['restart']();else if(gU['get']('playbackState')=='playing')gU['pause']();}catch(h6){};}};var h2='effectTimeout_'+gU['get']('id');if(!gZ&&window['hasOwnProperty'](h2)){var h4=window[h2];if(h4 instanceof Array){for(var h5=0x0;h5<h4['length'];h5++){clearTimeout(h4[h5]);}}else{clearTimeout(h4);}delete window[h2];}else if(gV==gU['get']('visible')&&!gZ)return;if(gW&&gW>0x0){var h4=setTimeout(function(){if(window[h2]instanceof Array){var h7=window[h2];var h8=h7['indexOf'](h4);h7['splice'](h8,0x1);if(h7['length']==0x0){delete window[h2];}}else{delete window[h2];}h1();},gW);if(window['hasOwnProperty'](h2)){window[h2]=[window[h2],h4];}else{window[h2]=h4;}}else{h1();}};TDV['Tour']['Script']['setLocale']=function(h9){this['get']('data')['localeManager']['setLocale'](h9);};TDV['Tour']['Script']['setEndToItemIndex']=function(ha,hb,hc){var hd=function(){if(ha['get']('selectedIndex')==hb)ha['set']('selectedIndex',hc);};this['executeFunctionWhenChange'](ha,hb,hd);};TDV['Tour']['Script']['setMapLocation']=function(he,hf){var hg=function(){he['unbind']('stop',hg,this);hh['set']('mapPlayer',null);};he['bind']('stop',hg,this);var hh=he['get']('player');hh['set']('mapPlayer',hf);};TDV['Tour']['Script']['setMainMediaByIndex']=function(hi){var hj=undefined;if(hi>=0x0&&hi<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',hi);hj=this['mainPlayList']['get']('items')[hi];}return hj;};TDV['Tour']['Script']['setMainMediaByName']=function(hk){var hl=this['_getPlayListsWithViewer'](this['MainViewer']);for(var hm=0x0,hn=hl['length'];hm<hn;++hm){var ho=hl[hm];var hp=ho['get']('items');for(var hq=0x0,hr=hp['length'];hq<hr;++hq){var hs=hp[hq];var ht=hs['get']('media')['get']('data');if(ht!==undefined&&ht['label']==hk&&hs['get']('player')['get']('viewerArea')==this['MainViewer']){ho['set']('selectedIndex',hq);return hs;}}}};TDV['Tour']['Script']['setMediaBehaviour']=function(hu,hv,hw){var hx=this;var hy=function(hV){if(hV['data']['state']=='stopped'){hC['call'](this,!![]);}};var hz=function(){hI['unbind']('begin',hz,hx);var hW=hI['get']('media');if(hW['get']('class')!='Panorama'||hW['get']('camera')!=undefined&&hW['get']('camera')['get']('initialSequence')!=undefined){hJ['bind']('stateChange',hy,hx);}};var hA=function(){var hX=hF['get']('selectedIndex');if(hX!=-0x1){hH=hX;hC['call'](this,![]);}};var hB=function(){hC['call'](this,![]);};var hC=function(hY){if(!hF)return;var hZ=hI['get']('media');if((hZ['get']('class')=='Video360'||hZ['get']('class')=='Video')&&hZ['get']('loop')==!![]&&!hY)return;hu['set']('selectedIndex',-0x1);if(hQ&&hP!=-0x1){if(hQ){if(hP>0x0&&hQ['get']('movements')[hP-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var i0=hR['get']('initialPosition');var i1=i0['get']('yaw');var i2=i0['get']('pitch');var i3=i0['get']('hfov');var i4=hQ['get']('movements')[hP-0x1];i0['set']('yaw',i4['get']('targetYaw'));i0['set']('pitch',i4['get']('targetPitch'));i0['set']('hfov',i4['get']('targetHfov'));var i5=function(i8){i0['set']('yaw',i1);i0['set']('pitch',i2);i0['set']('hfov',i3);hL['unbind']('end',i5,this);};hL['bind']('end',i5,this);}hQ['set']('movementIndex',hP);}}if(hJ){hI['unbind']('begin',hz,this);hJ['unbind']('stateChange',hy,this);for(var i6=0x0;i6<hS['length'];++i6){hS[i6]['unbind']('click',hB,this);}}if(hO){var i7=this['getMediaFromPlayer'](hJ);if(i7==undefined||i7==hI['get']('media')){hF['set']('selectedIndex',hH);}if(hu!=hF)hF['unbind']('change',hA,this);}else{hM['set']('visible',hN);}hF=undefined;};if(!hw){var hD=hu['get']('selectedIndex');var hE=hD!=-0x1?hu['get']('items')[hu['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['MainViewer']);if(hE){hw=this['getMediaFromPlayer'](hE);}}var hF=undefined;if(hw){var hG=this['getPlayListsWithMedia'](hw,!![]);hF=hG['indexOf'](hu)!=-0x1?hu:hG['length']>0x0?hG[0x0]:undefined;}if(!hF){hu['set']('selectedIndex',hv);return;}var hH=hF['get']('selectedIndex');var hI=hu['get']('items')[hv];var hJ=hI['get']('player');var hK=this['getMediaFromPlayer'](hJ);if(hu['get']('selectedIndex')==hv&&hK==hI['get']('media')||hH==-0x1){return;}if(hu['get']('selectedIndex')==hv&&hK!=hI['get']('media'))hu['set']('selectedIndex',-0x1);var hL=hF['get']('items')[hH];var hM=hJ['get']('viewerArea');var hN=hM['get']('visible');var hO=hM==hL['get']('player')['get']('viewerArea');if(hO){if(hu!=hF){hF['set']('selectedIndex',-0x1);hF['bind']('change',hA,this);}}else{hM['set']('visible',!![]);}var hP=-0x1;var hQ=undefined;var hR=hL['get']('camera');if(hR){hQ=hR['get']('initialSequence');if(hQ){hP=hQ['get']('movementIndex');}}hu['set']('selectedIndex',hv);var hS=[];var hT=function(i9){var ia=hJ['get'](i9);if(ia==undefined)return;if(Array['isArray'](ia))hS=hS['concat'](ia);else hS['push'](ia);};hT('buttonStop');for(var hU=0x0;hU<hS['length'];++hU){hS[hU]['bind']('click',hB,this);}hI['bind']('begin',hz,hx);this['executeFunctionWhenChange'](hu,hv,hB);};TDV['Tour']['Script']['setOverlayBehaviour']=function(ib,ic,id,ie){var ig=function(){switch(id){case'triggerClick':this['triggerOverlay'](ib,'click');break;case'stop':case'play':case'pause':ib[id]();break;case'togglePlayPause':case'togglePlayStop':if(ib['get']('state')=='playing')ib[id=='togglePlayPause'?'pause':'stop']();else ib['play']();break;}if(ie){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var ik=ib['get']('id');window['overlaysDispatched'][ik]=!![];setTimeout(function(){delete window['overlaysDispatched'][ik];},0x3e8);}};if(ie&&window['overlaysDispatched']!=undefined&&ib['get']('id')in window['overlaysDispatched'])return;var ih=this['getFirstPlayListWithMedia'](ic,!![]);if(ih!=undefined){var ii=this['getPlayListItemByMedia'](ih,ic);if(ih['get']('items')['indexOf'](ii)!=ih['get']('selectedIndex')){var ij=function(il){ii['unbind']('begin',ij,this);ig['call'](this);};ii['bind']('begin',ij,this);return;}}ig['call'](this);};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(im){var io=this['getActiveMediaWithViewer'](this['MainViewer']);if(io!=undefined&&(io['get']('class')['indexOf']('Panorama')!=-0x1||io['get']('class')=='Video360')){var ip=im['get']('media');var iq=this['cloneCamera'](im['get']('camera'));this['setCameraSameSpotAsMedia'](iq,io);this['startPanoramaWithCamera'](ip,iq);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(ir,is,it){var iu=ir['get']('media');var iv=this['cloneCamera'](ir['get']('camera'));var iw=iv['get']('initialPosition');iw['set']('yaw',is);iw['set']('pitch',it);this['startPanoramaWithCamera'](iu,iv);};TDV['Tour']['Script']['setValue']=function(ix,iy,iz){if('set'in ix)ix['set'](iy,iz);else ix[iy]=iz;};TDV['Tour']['Script']['setStartTimeVideo']=function(iA,iB){var iC=this['getPlayListItems'](iA);var iD=[];var iE=function(){for(var iI=0x0;iI<iC['length'];++iI){var iJ=iC[iI];iJ['set']('startTime',iD[iI]);iJ['unbind']('stop',iE,this);}};for(var iF=0x0;iF<iC['length'];++iF){var iG=iC[iF];var iH=iG['get']('player');if(iH['get']('video')==iA&&iH['get']('state')=='playing'){iH['seek'](iB);}else{iD['push'](iG['get']('startTime'));iG['set']('startTime',iB);iG['bind']('stop',iE,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(iK,iL){this['setStartTimeVideo'](iK,iL['get']('currentTime'));};TDV['Tour']['Script']['shareSocial']=function(iM,iN,iO,iP){if(iO){this['updateDeepLink']();}if(iN==undefined){iN=iO?location['href']:location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}else if(iO){iN+=location['hash'];}iN=function(iR){switch(iR){case'fb':return'https://www.facebook.com/sharer/sharer.php?u='+iN;case'li':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(iN);case'pt':return'https://pinterest.com/pin/create/button/?url='+iN;case'tw':return'https://twitter.com/intent/tweet?source=webclient&url='+iN;case'wa':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(iN);default:return undefined;}}(iM);if(iP){for(var iQ in iP){iN+='&'+iQ+'='+iP[iQ];}}this['openLink'](iN,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(iS,iT,iU){var iV=function(iZ){for(var j0=0x0,j1=iT['length'];j0<j1;j0++){var j2=iT[j0];if(j2['get']('class')=='HTMLText'&&(j2['get']('html')==''||j2['get']('html')==undefined)){continue;}j2['set']('visible',iZ);}};if(this['rootPlayer']['get']('touchDevice')==!![]){iV(!![]);}else{var iW=-0x1;var iX=function(){iV(!![]);if(iW>=0x0)clearTimeout(iW);iS['unbind']('rollOver',iX,this);iS['bind']('rollOut',iY,this);};var iY=function(){var j3=function(){iV(![]);iS['unbind']('rollOver',iX,this);};iS['unbind']('rollOut',iY,this);iS['bind']('rollOver',iX,this);iW=setTimeout(j3,iU);};iS['bind']('rollOver',iX,this);}};TDV['Tour']['Script']['showPopupMedia']=function(j4,j5,j6,j7,j8,j9,ja){var jb=this;var jc=function(){j6['set']('selectedIndex',-0x1);jb['MainViewer']['set']('toolTipEnabled',!![]);if(ja){jb['resumeGlobalAudios']();}this['resumePlayers'](jh,!ja);if(jg){this['unbind']('resize',je,this);}j4['unbind']('close',jc,this);};var jd=function(){j4['hide']();};var je=function(){var ji=function(jz){return j4['get'](jz)||0x0;};var jj=jb['get']('actualWidth');var jk=jb['get']('actualHeight');var jl=jb['getMediaWidth'](j5);var jm=jb['getMediaHeight'](j5);var jn=parseFloat(j7)/0x64;var jo=parseFloat(j8)/0x64;var jp=jn*jj;var jq=jo*jk;var jr=ji('footerHeight');var js=ji('headerHeight');if(!js){var jt=ji('closeButtonIconHeight')+ji('closeButtonPaddingTop')+ji('closeButtonPaddingBottom');var ju=jb['getPixels'](ji('titleFontSize'))+ji('titlePaddingTop')+ji('titlePaddingBottom');js=jt>ju?jt:ju;js+=ji('headerPaddingTop')+ji('headerPaddingBottom');}var jv=jp-ji('bodyPaddingLeft')-ji('bodyPaddingRight')-ji('paddingLeft')-ji('paddingRight');var jw=jq-js-jr-ji('bodyPaddingTop')-ji('bodyPaddingBottom')-ji('paddingTop')-ji('paddingBottom');var jx=jv/jw;var jy=jl/jm;if(jx>jy){jp=jw*jy+ji('bodyPaddingLeft')+ji('bodyPaddingRight')+ji('paddingLeft')+ji('paddingRight');}else{jq=jv/jy+js+jr+ji('bodyPaddingTop')+ji('bodyPaddingBottom')+ji('paddingTop')+ji('paddingBottom');}if(jp>jj*jn){jp=jj*jn;}if(jq>jk*jo){jq=jk*jo;}j4['set']('width',jp);j4['set']('height',jq);j4['set']('x',(jj-ji('actualWidth'))*0.5);j4['set']('y',(jk-ji('actualHeight'))*0.5);};if(j9){this['executeFunctionWhenChange'](j6,0x0,jd);}var jf=j5['get']('class');var jg=jf=='Video'||jf=='Video360';j6['set']('selectedIndex',0x0);if(jg){this['bind']('resize',je,this);je();j6['get']('items')[0x0]['get']('player')['play']();}else{j4['set']('width',j7);j4['set']('height',j8);}this['MainViewer']['set']('toolTipEnabled',![]);if(ja){this['pauseGlobalAudios']();}var jh=this['pauseCurrentPlayers'](!ja);j4['bind']('close',jc,this);j4['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(jA,jB,jC,jD,jE,jF,jG,jH,jI,jJ,jK,jL){var jM=this;var jN=![];var jO=function(){k3['unbind']('loaded',jR,jM);jT();};var jP=function(){k3['unbind']('click',jP,this);if(k7!=undefined){clearTimeout(k7);}};var jQ=function(){setTimeout(jX,0x0);};var jR=function(){jM['unbind']('click',jO,jM);k2['set']('visible',!![]);jX();k4['set']('visible',!![]);k3['unbind']('loaded',jR,this);k3['bind']('userInteractionStart',jY,this);k3['bind']('userInteractionEnd',jZ,this);k3['bind']('resize',jQ,this);k7=setTimeout(jS,0xc8);};var jS=function(){k7=undefined;if(jH){var k9=function(){jT();};k3['bind']('click',jP,this);k7=setTimeout(k9,jH);}k3['bind']('backgroundClick',jT,this);if(jB){k3['bind']('click',jV,this);k3['set']('imageCursor','hand');}k4['bind']('click',jT,this);if(jK)jK();};var jT=function(){jM['MainViewer']['set']('toolTipEnabled',!![]);jN=!![];if(k7)clearTimeout(k7);if(k8)clearTimeout(k8);if(jH)jP();if(jL)jL();k3['set']('visible',![]);if(jF&&jF['get']('duration')>0x0){jF['bind']('end',jU,this);}else{k3['set']('image',null);}k4['set']('visible',![]);k2['set']('visible',![]);jM['unbind']('click',jO,jM);k3['unbind']('backgroundClick',jT,this);k3['unbind']('userInteractionStart',jY,this);k3['unbind']('userInteractionEnd',jZ,this,!![]);k3['unbind']('resize',jQ,this);if(jB){k3['unbind']('click',jV,this);k3['set']('cursor','default');}k4['unbind']('click',jT,this);jM['resumePlayers'](k6,jI==null||jJ);if(jI){if(jJ){jM['resumeGlobalAudios']();}jM['stopGlobalAudio'](jI);}};var jU=function(){k3['set']('image',null);jF['unbind']('end',jU,this);};var jV=function(){k3['set']('image',jW()?jA:jB);};var jW=function(){return k3['get']('image')==jB;};var jX=function(){var ka=k3['get']('actualWidth')-k3['get']('imageLeft')-k3['get']('imageWidth')+0xa;var kb=k3['get']('imageTop')+0xa;if(ka<0xa)ka=0xa;if(kb<0xa)kb=0xa;k4['set']('right',ka);k4['set']('top',kb);};var jY=function(){if(k8){clearTimeout(k8);k8=undefined;}else{k4['set']('visible',![]);}};var jZ=function(){if(!jN){k8=setTimeout(k0,0x12c);}};var k0=function(){k8=undefined;k4['set']('visible',!![]);jX();};var k1=function(kc){var kd=kc['get']('data');if(kd&&'extraLevels'in kd){var ke=jM['rootPlayer']['createInstance'](kc['get']('class'));var kf=kd['extraLevels'];ke['set']('levels',kc['get']('levels')['concat'](kf));kc=ke;}return kc;};this['MainViewer']['set']('toolTipEnabled',![]);var k2=this['veilPopupPanorama'];var k3=this['zoomImagePopupPanorama'];var k4=this['closeButtonPopupPanorama'];if(jG){for(var k5 in jG){k4['set'](k5,jG[k5]);}}var k6=this['pauseCurrentPlayers'](jI==null||!jJ);if(jI){if(jJ){this['pauseGlobalAudios']();}this['playGlobalAudio'](jI);}var k7=undefined;var k8=undefined;jA=k1(jA);if(jB)jB=k1(jB);k3['bind']('loaded',jR,this);setTimeout(function(){jM['bind']('click',jO,jM,![]);},0x0);k3['set']('image',jA);k3['set']('customWidth',jC);k3['set']('customHeight',jD);k3['set']('showEffect',jE);k3['set']('hideEffect',jF);k3['set']('visible',!![]);return k3;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(kg,kh,ki,kj,kk,kl,km){var kn=this;this['MainViewer']['set']('toolTipEnabled',![]);var ko=this['isCardboardViewMode']();if(!ko){var kp=this['zoomImagePopupPanorama'];var kq=kg['get']('showDuration');var kr=kg['get']('hideDuration');var kt=this['pauseCurrentPlayers'](kl==null||!km);var ku=kg['get']('popupMaxWidth');var kv=kg['get']('popupMaxHeight');var kw=function(){var kz=function(){if(!kn['isCardboardViewMode']())kg['set']('visible',![]);};kg['unbind']('showEnd',kw,kn);kg['set']('showDuration',0x1);kg['set']('hideDuration',0x1);kn['showPopupImage'](ki,kj,kg['get']('popupMaxWidth'),kg['get']('popupMaxHeight'),null,null,kh,kk,kl,km,kz,kx);};var kx=function(){var kA=function(){kg['unbind']('showEnd',kA,kn);kg['set']('visible',![]);kg['set']('showDuration',kq);kg['set']('popupMaxWidth',ku);kg['set']('popupMaxHeight',kv);};kn['resumePlayers'](kt,kl==null||!km);var kB=kp['get']('imageWidth');var kC=kp['get']('imageHeight');kg['bind']('showEnd',kA,kn,!![]);kg['set']('showDuration',0x1);kg['set']('hideDuration',kr);kg['set']('popupMaxWidth',kB);kg['set']('popupMaxHeight',kC);if(kg['get']('visible'))kA();else kg['set']('visible',!![]);kn['MainViewer']['set']('toolTipEnabled',!![]);};kg['bind']('showEnd',kw,this,!![]);}else{var ky=function(){kn['resumePlayers'](kt,kl==null||km);if(kl){if(km){kn['resumeGlobalAudios']();}kn['stopGlobalAudio'](kl);}kg['unbind']('hideEnd',ky,kn);kn['MainViewer']['set']('toolTipEnabled',!![]);};var kt=this['pauseCurrentPlayers'](kl==null||!km);if(kl){if(km){this['pauseGlobalAudios']();}this['playGlobalAudio'](kl);}kg['bind']('hideEnd',ky,this,!![]);}kg['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(kD,kE,kF){var kG=this;var kH=function(){kD['unbind']('showEnd',kH);kL['bind']('click',kJ,this);kK();kL['set']('visible',!![]);};var kI=function(){if(!kD['get']('loop'))kJ();};var kJ=function(){kG['MainViewer']['set']('toolTipEnabled',!![]);kD['set']('visible',![]);kL['set']('visible',![]);kL['unbind']('click',kJ,kG);kD['unbind']('end',kI,kG);kD['unbind']('hideEnd',kJ,kG,!![]);kG['resumePlayers'](kN,!![]);if(kF){kG['resumeGlobalAudios']();}};var kK=function(){var kO=0xa;var kP=0xa;kL['set']('right',kO);kL['set']('top',kP);};this['MainViewer']['set']('toolTipEnabled',![]);var kL=this['closeButtonPopupPanorama'];if(kE){for(var kM in kE){kL['set'](kM,kE[kM]);}}var kN=this['pauseCurrentPlayers'](!![]);if(kF){this['pauseGlobalAudios']();}kD['bind']('end',kI,this,!![]);kD['bind']('showEnd',kH,this,!![]);kD['bind']('hideEnd',kJ,this,!![]);kD['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(kQ,kR,kS){if(kQ['get']('visible')==!![]){return;}var kT=function(){kU();this['resumePlayers'](kX,!kS);kQ['unbind']('close',kT,this);};var kU=function(){kQ['unbind']('click',kU,this);if(kV!=undefined){clearTimeout(kV);}};var kV=undefined;if(kR){var kW=function(){kQ['hide']();};kQ['bind']('click',kU,this);kV=setTimeout(kW,kR);}var kX=this['pauseCurrentPlayers'](!kS);kQ['bind']('close',kT,this);kQ['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(kY,kZ){if(window['currentPanoramasWithCameraChanged']!=undefined&&window['currentPanoramasWithCameraChanged']['indexOf'](kY)!=-0x1){return;}var l0=this['getByClassName']('PlayList');if(l0['length']==0x0)return;var l1=[];for(var l3=0x0,l4=l0['length'];l3<l4;++l3){var l5=l0[l3];var l6=l5['get']('items');for(var l7=0x0,l8=l6['length'];l7<l8;++l7){var l9=l6[l7];if(l9['get']('media')==kY&&(l9['get']('class')=='PanoramaPlayListItem'||l9['get']('class')=='Video360PlayListItem')){l1['push']({'camera':l9['get']('camera'),'item':l9});l9['set']('camera',kZ);}}}if(l1['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']=[kY];}else{window['currentPanoramasWithCameraChanged']['push'](kY);}var la=function(){var lb=window['currentPanoramasWithCameraChanged']['indexOf'](kY);if(lb!=-0x1){window['currentPanoramasWithCameraChanged']['splice'](lb,0x1);}for(var lc=0x0;lc<l1['length'];lc++){l1[lc]['item']['set']('camera',l1[lc]['camera']);l1[lc]['item']['unbind']('stop',la,this);}};for(var l3=0x0;l3<l1['length'];l3++){l1[l3]['item']['bind']('stop',la,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(ld,le){var lf=ld['get']('initialSequence');lf['pause']();var lg=function(){lf['play']();};setTimeout(lg,le);};TDV['Tour']['Script']['syncPlaylists']=function(lh){var li=function(lq,lr){for(var ls=0x0,lt=lh['length'];ls<lt;++ls){var lu=lh[ls];if(lu!=lr){var lv=lu['get']('items');for(var lw=0x0,lx=lv['length'];lw<lx;++lw){if(lv[lw]['get']('media')==lq){if(lu['get']('selectedIndex')!=lw){lu['set']('selectedIndex',lw);}break;}}}}};var lj=function(ly){var lz=ly['source'];var lA=lz['get']('selectedIndex');if(lA<0x0)return;var lB=lz['get']('items')[lA]['get']('media');li(lB,lz);};var lk=function(lC){var lD=lC['source']['get']('panoramaMapLocation');if(lD){var lE=lD['get']('map');li(lE);}};for(var lm=0x0,lo=lh['length'];lm<lo;++lm){lh[lm]['bind']('change',lj,this);}var lp=this['getByClassName']('MapPlayer');for(var lm=0x0,lo=lp['length'];lm<lo;++lm){lp[lm]['bind']('panoramaMapLocation_change',lk,this);}};TDV['Tour']['Script']['translate']=function(lF){return this['get']('data')['localeManager']['trans'](lF);};TDV['Tour']['Script']['triggerOverlay']=function(lG,lH){if(lG['get']('areas')!=undefined){var lI=lG['get']('areas');for(var lJ=0x0;lJ<lI['length'];++lJ){lI[lJ]['trigger'](lH);}}else{lG['trigger'](lH);}};TDV['Tour']['Script']['updateDeepLink']=function(){var lK=this['mainPlayList']['get']('selectedIndex');if(lK>=0x0){location['hash']='#media='+(lK+0x1);}else{var lL=this['getActiveMediaWithViewer'](this['MainViewer']);if(lL!=undefined){var lM=lL['get']('data');if(lM){location['hash']='#media-name='+lM['label'];}}}};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(lN,lO,lP){var lQ=function(){var lS=lN['get']('selectedIndex');if(lS>=0x0){var lT=function(){lW['unbind']('begin',lT);lU(lS);};var lU=function(lX){var lY=lW['get']('media');var lZ=lY['get']('data');var m0=lZ!==undefined?lZ['description']||lY['get']('label'):lY['get']('label');lV(m0);};var lV=function(m1){if(m1!==undefined){lO['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+m1+'</SPAN></div>');}else{lO['set']('html','');}};var lW=lN['get']('items')[lS];if(lO['get']('html')){lV('Loading...');lW['bind']('begin',lT);}else{lU(lS);}}};var lR=function(){lO['set']('html',undefined);lN['unbind']('change',lQ,this);lP['unbind']('stop',lR,this);};if(lP){lP['bind']('stop',lR,this);}lN['bind']('change',lQ,this);lQ();};TDV['Tour']['Script']['updateVideoCues']=function(m2,m3){var m4=m2['get']('items')[m3];var m5=m4['get']('media');if(m5['get']('cues')['length']==0x0)return;var m6=m4['get']('player');var m7=[];var m8=function(){if(m2['get']('selectedIndex')!=m3){m5['unbind']('cueChange',m9,this);m2['unbind']('change',m8,this);}};var m9=function(ma){var mb=ma['data']['activeCues'];for(var mc=0x0,md=m7['length'];mc<md;++mc){var me=m7[mc];if(mb['indexOf'](me)==-0x1&&(me['get']('startTime')>m6['get']('currentTime')||me['get']('endTime')<m6['get']('currentTime')+0.5)){me['trigger']('end');}}m7=mb;};m5['bind']('cueChange',m9,this);m2['bind']('change',m8,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(mf,mg){var mh=this['get'](mg);for(var mi in mf){mf[mi]['set']('visible',mh);}};TDV['Tour']['Script']['quizStart']=function(){var mj=this['get']('data')['quiz'];return mj?mj['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var mk=this['get']('data')['quiz'];return mk?mk['finish']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(ml){var mm=this['get']('data')['quiz'];if(mm)mm['setItemFound'](ml);};TDV['Tour']['Script']['quizShowQuestion']=function(mn){var mo=this['get']('data');var mp=mo['quiz'];var mq;if(mp){var mr=this['pauseCurrentPlayers'](!![]);var ms=this[mn];var mt;if(!ms['media']){mt=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){mt={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}mq=mp['showQuestion'](mn,mt);mq['then'](function(mu){this['resumePlayers'](mr,!![]);}['bind'](this));}return mq;};TDV['Tour']['Script']['quizShowScore']=function(mv){var mw=this['get']('data');var mx=mw['quiz'];if(mx){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){mv=mv||{};mv=this['mixObject'](mv,mw['scorePortraitConfig']);}return mx['showScore'](mv);}};TDV['Tour']['Script']['quizShowTimeout']=function(my,mz){var mA=this['get']('data');var mB=mA['quiz'];if(mB){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){mz=mz||{};mz=this['mixObject'](mz,mA['scorePortraitConfig']);}mB['showTimeout'](my,mz);}};TDV['Tour']['Script']['getKey']=function(mC){return window[mC];};TDV['Tour']['Script']['registerKey']=function(mD,mE){window[mD]=mE;};TDV['Tour']['Script']['unregisterKey']=function(mF){delete window[mF];};TDV['Tour']['Script']['existsKey']=function(mG){return mG in window;};
//# sourceMappingURL=http://localhost:9000/script_v2020.2.5.js.map
//Generated with v2020.2.5, Thu Jun 4 2020